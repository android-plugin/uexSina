<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport"
        content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, user-scalable=no" />
        <link rel="stylesheet" type="text/css" href="css/index.css">

    <link rel="stylesheet" href="css/ui-base.css">
    <link rel="stylesheet" href="css/ui-box.css">
    <link rel="stylesheet" href="css/ui-color.css">
	<link rel="stylesheet" href="css/ui-res.css">
    <link rel="stylesheet" href="css/ui-btn.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/zy_control.js">
    </script>
    <script src="js/zy_click.js">
    </script>
    <script type="text/javascript">

	var commonCallback = function(error, data) {
         if(!error){
            alert(data.uid);
         }else{
            alert("失败");
         }
	}
	function login() {
		var appKey = "3845409824";
        var registerUrl = "https://api.weibo.com/oauth2/default.html";
        uexSina.login(appKey,registerUrl, commonCallback);
	}

    function shareText(){
        //分享文字
        var txt = "中国最大的移动中间平台AppCan对新浪微博分享支持测试";
        uexSina.sendTextContent(txt, function(data) {
            alert(data);
        });
    }
	function sharePic(){
        var content = "中国最大的移动中间平台AppCan对新浪微博分享的图片支持测试";
        var realImgPath = "res://sotower.png";//http:// 本地
        //var realImgPath = "wgts://sotower.png";
        uexSina.sendImageContent(realImgPath, content,function(data) {
            alert(data);
        });
    }
    function register(){
        var appKey = "3845409824";
        var appSecret = "6baa661d49374c9da3ea9cab1c406ab6";
        var registerUrl = "https://api.weibo.com/oauth2/default.html";
        uexSina.registerApp(appKey,appSecret,registerUrl, function(data) {
            alert("openId:" + data.code);
        });
    }
    function getUserInfo() {
        uexSina.getUserInfo(commonCallback);
    }

    function logout() {
        uexSina.logout(function(data) {
            alert(data);
        });
    }
		</script>
  </head>
<body class="um-vp " ontouchstart>
	<div class="conbor">
		<div class="consj">
			<span>1.注册app id</span>
			<input class="btn" type="button" value="注册App" onclick="register();">
			<input class="btn" type="button" value="login" onclick="login();">
			<div class="tcxx" id="selectItem"></div><br>
            <span>2.分享文字</span>
            <input class="btn" type="button" value="分享文本" onclick="shareText();"><br>
            <span>3.分享图片，以及文字，如果图片地址为http://则必须在新浪申请高级权限</span>
            <input class="btn" type="button" value="分享图片" onclick="sharePic();">
            <div class="tcxx" id="showStatus"></div><br>
            <input class="btn" type="button" value="获取用户信息" onclick="getUserInfo();">
			<br>
            <input class="btn" type="button" value="登出" onclick="logout();">
		</div>
	</div>
</body>
<script>

</script>
</html>
